\chapter{Overview}\label{ch:over}
With the advancements in \emph{smart cities}, the field of transportation is on the cusp of a new technological revolution. Unprecedented changes are happening on various fronts, each of which promising to address the deep-rooted challenges of current transportation systems. These smart city advancements can be summarized into three core categories:
\begin{itemize}
    \item \textbf{Big Data:} In recent years, the availability of very large datasets, accompanied by the boosted advantage in computational power, has made it possible to acquire information on what was deemed almost impossible before. From the fine-grained details of the behaviour of individuals, to massive aggregated data of the population of a country, we can now know about transportation usage, preferences and choices of individuals more than any time in history.
    \item\textbf{\textbf{Machine Learning:}} Availability of data and computational power has not only served as a way to provide better description of the situation. Data-driven modelling approaches, and in particular Machine Learning (ML) models, had been introduced in the middle of the 20th century. The lack of effectiveness of the computers resulted in the so-called \textit{winter of Artificial Intelligence (AI)} in the 70s~\cite{russell2002artificial}. However, only in the last decade, and with the improvements in computational power and datasets, advanced machine learning and deep learning models have become feasible to develop and train~\cite{Goodfellow-et-al-2016}.
    \item\textbf{Connected and Automated Vehicles:} Such vehicles are being tested at various levels by various research centers and companies around the globe. Once merely a futuristic concept of science fiction, the presence of automated vehicles on urban roads is now only a matter of time. The introduction of fully or partially automated vehicles to urban and rural networks leads to drastic changes in mobility~\cite{angerholzer2017autonomous}, congestion~\cite{djavadian2020multi}, greenhouse gas emissions~\cite{greenblatt2015autonomous}, travel behaviours~\cite{farooq2018virtual}, parking facilities~\cite{bahrami2019impacts}, etc. 
\end{itemize}
With the aforementioned changes on the way, it is expected to observe new dynamics shaping the future of urban areas to an extent that affects different network users. This dissertation is an attempt to explore the new dynamics of pedestrians in the age of a technological revolution in the field of transportation. Careful investigation of pedestrian behaviour is a key component of any sustainable transportation system. Promotion of active modes of transportation, and in particular walking, helps ease network congestion, reduce carbon emission and encourage healthier lifestyles~\cite{wen2005promoting}. This promotion would not be possible without a shift from vehicle-oriented streets to pedestrian-friendly urban areas. To facilitate this shift, and to provide and enhance the quality of pedestrian related services, it is of vital importance to first understand, regenerate, and predict parameters that characterize pedestrian traffics and behaviours~\cite{nikolic2016probabilistic}. 

The first step to understand the characteristics of pedestrians would be to collect data on pedestrian flow and behaviour. Whether using the collected information for simulation, or merely for estimating the number of walking trips in an area, the size and quality of the collected data can greatly affect the outcome of the study. When studying the choices of transportation system users, revealed or stated preferences of the users need to be observed from the collected data. Traditional methods of data collection for pedestrian studies typically consist of manual counting methods and travel surveys from limited number of participants. Manual counting of the pedestrians from sites or video data has been traditionally used to passively measure information on the observable behaviours or Revealed Preferences (RP) of pedestrians. However, the accuracy of such methods heavily rely on the humans in charge of the count, making the method prone to human errors~\cite{ryus2014guidebook}. In addition, human resources involved in most cases necessities recruiting collectors, conducting training sessions, and managing the workforce, leading to the method being time-consuming, and in some cases expensive~\cite{lee2017emerging}. On the other hand, travel surveys in the form questionnaires (online or mail-in) and interviews (in person or by phone), have been the prevalent method for active data collections and Stated Preferences (SP) inference. By directly asking network users about their preferences, choices in real or hypothetical conditions and sociodemographic information, detailed data on travel behaviour and patterns of users can be extracted. However, the problems of human error involvement and implementation costs persist~\cite{huang2019transport}. Moreover, as these surveys are dependant upon the involvement of participants, low response rates~\cite{ogle2005georgia}, under reporting of trips~\cite{bricka2006comparative}, and being limited to a small proportion of population, can lead the results to be biased and not representative~\cite{shen2014review,dollar2012pedestrian}. 

Advances in different fields of technology in recent decades have made it possible to automatically detect and track pedestrians at large scale~\cite{bauer2009measurement}. As a result, novel methodologies to collect data have gained popularity among scholars in different fields~\cite{farooq2015ubiquitous}. Among these new methods, automatic video tracking of pedestrians has been widely used, as it has the potential to detect data of each and every pedestrian crossing the video frame. The information collected from such methods can be classified as revealed preference/behaviour data. However, myriad of challenges are yet to be considered in this method. In crowded scenes, for instance, pedestrian detection algorithms can suffer from problems such as occlusion~\cite{wu2005detection} or grouping. Various visual effects (e.g. lighting, shadows, distortion, non-human moving objects) and limited field of view are other problematic issues in video data collection and processing that negatively affect the performance of the algorithms~\cite{ettehadieh2014automated}. Another major concern for deployment of video data for pedestrian data collection is the skepticism that singling out individuals in video recordings can lead to the infringement of their privacy~\cite{chan2008privacy}.
Rapid growth of smartphones, on the other hand, has provided a unique opportunity for ubiquitous and pervasive data collection and revealed preferences inference for transportation purposes. Penetration rate of smartphones among adults has reached over 70\% in developed countries~\cite{pen}, making it possible to benefit from multiple sensors they carry for observing their users' behaviours. 


Another novel method for data collection with significant improvements in recent years is the Virtual Reality (VR) technology. In traditional field experiments on pedestrian behaviours, it is often difficult to implement different scenarios as the results may be disastrous in terms of the participantsâ€™ safety. In addition, it may be expensive or unsafe to repeat an experiment with the exact same traffic conditions to capture the effects of an implemented safety measure. One solution to these problems is to use stated preferences (SP) experiments. In SP experiments, hypothetical scenarios are presented to participants and their choice preferences under different conditions are recorded. Such experiments are particularly powerful in studies where information on revealed preferences and behaviour of participants are not available for different reasons~\cite{cherchi2015workshop}. However, SP experiments are often criticized for lack of realism in delivering the details of the hypothetical scenarios~\cite{farooq2018virtual}. These problems, along with the fact that some scenarios are impossible to be recreated in technological terms, have led researchers to use pictures, videos and photomontages to assess participants perception. With the development of interactive computer-generated experiences, VR experiments have gained popularity in various research fields. Using a head mounted VR display device, virtual scenes can be directly projected to the participants so that the they will be immersed in the simulated environment~\cite{farooq2018virtual}. Scenarios used in experiments may be unsafe or expensive to operationalize on real roads, due to reasons such as dangerous implementations or lack of infrastructures. VR simulator allows running such scenarios, along with scenarios containing new technologies or services that participants have limited mental image of them. 

The second step of the framework to understand pedestrian dynamics would be to analyze the collected data and extract meaningful patterns from them. Availability of detailed, high-dimensional, complex datasets today, as well as the high computational powers, have led to the rapid and ubiquitous emergence of data-driven approaches. In many cases, traditional models cease to capture the high level of nonlinearities among the data~\cite{boulesteix2014machine}. Thus, utilizing machine learning models, as well as developing data-driven versions of traditional models, have been an inevitable modelling trend in recent years. Despite the strength of machine learning models in increasing the prediction power of the models, they often fail to provide the descriptive power required for decision making and policy planning\cite{boulesteix2014machine}. Interpretability and explainability of most of ML algorithms are often considered as a cumbersome or even unnecessary task, as making models more interpretable is often associated with a loss of prediction power~\cite{lipton2016mythos}. In the areas of research that gaining information on \textit{why?} and \textit{how?} the model works is as important as the predictive power of the model, traditional explainable models are mostly favored. Thus, in order to apply an ML model to solve a problem, one must first find out a way to interpret the results of the model. Various approaches to make machine learning models explainable have emerged in recent years. In addition to inherently explainable ML models, e.g. decision trees, model-agnostic methods have been introduced to address the \textit{black-box} nature of machine learning algorithms. Sensitivity analysis plots~\cite{goldstein2015peeking}, gradient boosting feature importance methods~\cite{friedman2001greedy}, feature permutation methods~\cite{fisher2018all}, surrogate local interpretable estimators~\cite{ribeiro2016should}, and game theory based approaches~\cite{vstrumbelj2014explaining,lundberg2017unified} are some of the examples of post-hoc model-agnostic methods relying only on the input and the output of the models~\citep{molnar2019interpretable}.

 
Finally, novel data sources and modern modelling approaches from the two previous steps are utilized to address forthcoming challenges for pedestrians in urban areas. With the emergence of automated vehicles in near future, a careful reassessment and reconsideration of the dynamics of urban areas is inevitable. Pedestrians, as the most vulnerable road users and the core part toward a pedestrian-friendly urban space, need to be prioritized in plans for future streets. In order for the city planning to adapt to the upcoming changes, features of future streets, pedestrian-oriented policy suggestions and recommendations, and traffic parameters that relate to pedestrians need to be explored before the transition toward fully automated environments. In particular, interactions of pedestrians and vehicles will change dramatically with the absent of a human driver in the vehicles. Replication of this interaction in an automated context is only made possible through the novel datasets and experiment tools.      

This study explores the idea of utilizing new technologies for pedestrian related studies in different aspects, i.e. from sensing the presence and counting the number of pedestrians, to developing prediction models and explaining pedestrian behaviour in automated environments. The main objective of this research is to overcome the challenges that typical data collection methods impose on pedestrian studies. Collecting high-dimensional, fine-grained data from the pedestrians eases the path to explore and develop advanced data-driven machine learning models. By utilizing novel datasets and modelling approaches, we then seek to understand, predict, and explain the behaviours of pedestrians in future urban areas.


\section{Research contributions}
This dissertation is an endeavour to explore and apply modern datasets and tools to address the pedestrian related challenges that are expected to show up in the transformation toward smart cities. With a focus on pedestrian related research, we try to provide insights on how to observe, detect, model and predict pedestrian behaviour in future urban areas. The thesis research is organized in articles. In each article chapter, a novel source of data is explored using a data-driven machine learning model to define, investigate, and discuss one aspect of pedestrian behaviour in modern times, and to provide solutions to prepare cities and urban space for disruptive and emerging technologies. The work in this dissertation will contribute to the following aspects:


\begin{itemize}
    \item \textbf{Pedestrian data collection}
    \begin{itemize}
         \item Introduction of passively collected Wi-Fi data as a reliable alternative to traditional methods for pedestrian detection
         \item Utilization of labelled and unlabelled data to achieve high performance with lower costs
         \item Pedestrian mobility detection in a highly congested areas using solely WiFi data
         \item Introduction and implementation of a Virtual Reality (VR) data as a novel source to obtain highly detailed information in customized hypothetical scenarios in a controlled and safe environment
    \end{itemize}
\end{itemize}

\begin{itemize}
    \item \textbf{Behavioural studies of pedestrian}
    \begin{itemize}
    \item Behavioural analysis of pedestrian in automated environments of future urban areas
    \item Analysis of the effect of smartphone distraction on pedestrians crossing behaviour
    \item Exploration steps toward the characteristics of future urban areas from a pedestrian-friendly perspective
    \item Introduction of a data-driven method to predict the trajectory of pedestrians in future urban areas
\end{itemize}
\end{itemize}

 \begin{itemize}
    \item \textbf{Data-driven methodologies}
    \begin{itemize}
      \item Development of a semi-supervised deep residual framework for mode classification
      \item Development of a neural network based survival model to capture the nonlinearities of the high dimensional data
      \item Development of a context-aware data-driven sequence-to-sequence model 
      \item Development of a post-hoc model interpretability framework to explain the contributing factors to the model outputs
    \end{itemize}

\end{itemize}  
    

    
   

